<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Remote Control Dashboard</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=JetBrains+Mono:wght@400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    
</head>
<body>

    <nav class="sidebar">
        <div class="logo"><i class="fa-solid fa-server"></i> Desktop Remote</div>
        
        <div class="connection-box">
            <div style="font-size: 12px; color: var(--text-muted); margin-bottom: 5px;">Server IP Address</div>
            
            <div id="connectionPanel">
                <input id="ipInput" placeholder="127.0.0.1" value="127.0.0.1">
                <button id="btnConnect" class="action-btn btn-primary btn-block">
                    <i class="fa-solid fa-link"></i> Connect
                </button>
            </div>

            <div id="disconnectPanel" style="display: none;">
                <div id="connectStatus" style="font-size: 13px; word-break: break-all;">Connected</div>
                <button id="btnDisconnect" class="action-btn btn-danger btn-block" style="display: flex;flex-direction: row; padding: 5px;">
                    <i class="fa-solid fa-link-slash"></i> Disconnect
                </button>
            </div>
        </div>

        <div class="nav-links">
            <button class="nav-btn active" onclick="switchTab('application', this)"><i class="fa-solid fa-window-maximize"></i> Apps</button>
            <button class="nav-btn" onclick="switchTab('process', this)"><i class="fa-solid fa-microchip"></i> Processes</button>
            <button class="nav-btn" onclick="switchTab('keylogger', this)"><i class="fa-regular fa-keyboard"></i> Keylogger</button>
            <button class="nav-btn" onclick="switchTab('screenshot', this)"><i class="fa-solid fa-camera"></i> Screenshot</button>
            <button class="nav-btn" onclick="switchTab('webcam', this)"><i class="fa-solid fa-record-vinyl"></i> Webcam</button>
            <button class="nav-btn" onclick="switchTab('system', this)"><i class="fa-solid fa-power-off"></i> System</button>
        </div>
    </nav>

    <div class="main-content">
        <div class="content-area">

            <div id="application" class="page active">
                <h2>Application Manager</h2>
                <div class="card">
                    <div class="control-row">
                        <input id="appName" class="main-input" placeholder="Enter app name (notepad, calc, chrome...)">
                        <button onclick="sendCommand('startApp')" class="action-btn btn-green" style="flex-direction: row; padding: 10px;" ><i class="fa-solid fa-play"> </i> Start</button>
                        <button onclick="sendCommand('stopApp')" class="action-btn btn-danger" style="flex-direction: row; padding: 10px;"><i class="fa-solid fa-stop"></i> Stop</button>
                    </div>
                    <div class="control-row">
                        <button onclick="sendCommand('listApp')" class="action-btn"><i class="fa-solid fa-rotate"></i> Refresh List</button>
                    </div>
                    <ul id="appList" class="terminal">
                        <li style="color: #64748b">Click Refresh to load apps...</li>
                    </ul>
                </div>
            </div>

            <div id="process" class="page">
                <h2>Process Manager</h2>
                <div class="card">
                    <div class="control-row">
                        <input id="processName" class="main-input" placeholder="Enter Process Name (e.g., notepad.exe)">
                        <button onclick="sendCommand('stopProcess')" class="action-btn btn-danger" style="flex-direction: row; padding: 10px;"><i class="fa-solid fa-skull"></i> Kill Process</button>
                        <button onclick="sendCommand('listProcess')" class="action-btn" style="flex-direction: row; padding: 10px; font-size: 20px;" ><i class="fa-solid fa-list-check"></i> List All</button>
                    </div>
                    <ul id="processList" class="terminal" style="height: 500px;"></ul>
                </div>
            </div>

            <div id="keylogger" class="page">
                <h2>Keylogger View</h2>
                <div class="card">
                    <div class="control-row">
                        <button onclick="sendCommand('getKeylog')" class="action-btn btn-primary" style="display: flex; flex-direction: row; padding: 15px; font-size: 20px;"><i class="fa-solid fa-download"></i> Fetch Logs</button>
                    </div>
                    <div id="keylogResult" class="terminal" style="color: #fbbf24; white-space: pre-wrap;">No data fetched yet.</div>
                </div>
            </div>

            <div id="screenshot" class="page">
                <h2>Screenshot</h2>
                <div class="card"  style="display: flex; justify-content: space-around;">
                    <button onclick="sendCommand('screenshot')" class="action-btn" style="background: #e67e22; display: flex; flex-direction: column; padding: 30px; font-size: 20px;">
                            <i class="fa-solid fa-camera"></i> Screenshot
                    </button>
                </div>
                <div id="mediaResult" style="margin-top:10px; color: cyan; font-size: 14px;"> </div>
            </div>
            <div id="webcam" class="page">
                <h2>Webcam view</h2>
                    <div class="card">
                    <div class="control-row">

                        <button onclick="startOnWebcam()" class="action-btn btn-green">
                            <i class="fa-solid fa-eye"></i> Camera on!
                        </button>
                        <button onclick="stopOnWebcam()" class="action-btn btn-danger">
                            <i class="fa-solid fa-eye-slash"></i> Camera off!
                        </button>
                        <div class="record" style="align-items: center; display: flex; gap: 10px;">
                            <input id="recSeconds" type="number" value="10" placeholder="Số giây quay" style="background: var(--bg-body); border: 1px solid #475569; color: white; padding: 12px; border-radius: 8px; font-size: 20px;">
                            <button onclick="sendCommand('recordVideo')" class="action-btn btn-primary" style="font-size: 20px; display: flex; flex-direction: column; padding: 15px;" >
                                <i class="fa-solid fa-video"></i> Record & Save
                            </button>
                        </div>
                    </div>
                    <div id="onWebcamContainer" style="background: black; min-height: 300px; display: flex; align-items: center; justify-content: center; border-radius: 8px;">
                        <span style="color: #64748b;">Camera Screen</span>
                    </div>
                </div>

                <div class="card">
                    <div id="recordResult" class="terminal" style="min-height: 50px;">Record result will be display here...</div>
                </div>

<div id="webcamResult" style="color: cyan; font-size: 13px; margin-top: 5px;"></div>
                        
                    </div>

                    <div id="system" class="page">
                <h2>System Control</h2>
                <div class="card">
                    <p style="color: var(--text-muted); margin-bottom: 20px; align-items: center;display: flex; justify-content: space-around; "> Dangerous! These functions can affect your computer!</p>
                    <div class="control-row">
                        <button onclick="sendCommand('shutdown')" class="action-btn btn-danger"><i class="fa-solid fa-power-off"></i> Shutdown (60s)</button>
                        <button onclick="sendCommand('restart')" class="action-btn btn-warning" style="color: #0f172a; font-size: 20px; display: flex; flex-direction: column; padding: 15px; "><i class="fa-solid fa-rotate"></i> Restart (60s)</button>
                    </div>
                </div>
            </div>
                </div>
            </div>


        </div>
    </div>

    <div id="toast-container"></div>

    <script src="script.js"></script>

</body>
</html>